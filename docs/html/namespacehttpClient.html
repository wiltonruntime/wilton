<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>wilton.js: httpClient Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">wilton.js
   &#160;<span id="projectnumber">v202011182</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Packages</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="namespacemembers.html"><span>Package&#160;Functions</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">httpClient Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><b>wilton/httpClient</b> <br/>
 HTTP client.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5f77a8a2e7d12423cc8a789184a37413"><td class="memItemLeft" align="right" valign="top">Object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehttpClient.html#a5f77a8a2e7d12423cc8a789184a37413">sendFile</a> (String url, Object options, Function|Undefined callback)</td></tr>
<tr class="memdesc:a5f77a8a2e7d12423cc8a789184a37413"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send specified file to server.  <a href="#a5f77a8a2e7d12423cc8a789184a37413"></a><br/></td></tr>
<tr class="memitem:ac82f88752875ab16dfc95db6d26c6122"><td class="memItemLeft" align="right" valign="top">Object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehttpClient.html#ac82f88752875ab16dfc95db6d26c6122">sendFileByParts</a> (String url, Object options, Function|Undefined callback)</td></tr>
<tr class="memdesc:ac82f88752875ab16dfc95db6d26c6122"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send specified file to server by parts.  <a href="#ac82f88752875ab16dfc95db6d26c6122"></a><br/></td></tr>
<tr class="memitem:a33cb20df4470da7e266e580d082064e8"><td class="memItemLeft" align="right" valign="top">Object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehttpClient.html#a33cb20df4470da7e266e580d082064e8">sendRequest</a> (String url, Object options, Function|Undefined callback)</td></tr>
<tr class="memdesc:a33cb20df4470da7e266e580d082064e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send HTTP request to server.  <a href="#a33cb20df4470da7e266e580d082064e8"></a><br/></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This module allows to send HTTP requests.</p>
<p>By default HTTP connections are cached into the single process-wide connection pool and can be reused from different threads.</p>
<p>This module supports HTTPS and request with <code>X.509</code> client certificates.</p>
<p>Usage example:</p>
<div class="fragment"><div class="line"><span class="comment">// send GET request</span></div>
<div class="line">var resp1 = http.sendRequest(<span class="stringliteral">&quot;https://google.com&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// send POST request</span></div>
<div class="line">var resp2 = http.sendRequest(url, {</div>
<div class="line">    <a class="code" href="namespaceRequest.html#a7d364df39cce65fa893ddc277778945d" title="Access request body.">data</a>: <span class="stringliteral">&quot;foo&quot;</span>,</div>
<div class="line">    <a class="code" href="namespaceRequest.html#a35a013d33feb11c39be7900508b064db" title="Access request&#39;s metadata.">meta</a>: {</div>
<div class="line">        method: <span class="stringliteral">&quot;POST&quot;</span></div>
<div class="line">    }</div>
<div class="line">});</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// send file</span></div>
<div class="line">var resp3 = http.sendFile(url, {</div>
<div class="line">    filePath: <span class="stringliteral">&quot;path/to/file.txt&quot;</span></div>
<div class="line">});</div>
</div><!-- fragment --> </div><h2>Function Documentation</h2>
<a class="anchor" id="a5f77a8a2e7d12423cc8a789184a37413"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Object httpClient::sendFile </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Object&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Function|Undefined&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends specified file to server using <code>POST</code> request method by default.</p>
<p>Specified file is read in streaming mode without loading the whole file into memory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td><code>String</code> URL of the HTTP server </td></tr>
    <tr><td class="paramname">options</td><td><code>Object</code> configuration object, see details in <code><a class="el" href="namespacehttpClient.html#a33cb20df4470da7e266e580d082064e8" title="Send HTTP request to server.">sendRequest()</a></code> function </td></tr>
    <tr><td class="paramname">callback</td><td><code>Function|Undefined</code> callback to receive result or error </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>Object</code> response object, see details in <code><a class="el" href="namespacehttpClient.html#a33cb20df4470da7e266e580d082064e8" title="Send HTTP request to server.">sendRequest()</a></code> function </dd></dl>

</div>
</div>
<a class="anchor" id="ac82f88752875ab16dfc95db6d26c6122"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Object httpClient::sendFileByParts </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Object&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Function|Undefined&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends specified file to server using <code>POST</code> request method by default. File splitted into parts.</p>
<p>Specified file is read in streaming mode without loading the whole file into memory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td><code>String</code> URL of the HTTP server </td></tr>
    <tr><td class="paramname">options</td><td><code>Object</code> configuration object, see details in <code><a class="el" href="namespacehttpClient.html#a33cb20df4470da7e266e580d082064e8" title="Send HTTP request to server.">sendRequest()</a></code> function and also sendOptions <code>Object</code> configuration object, see possible options below. </td></tr>
    <tr><td class="paramname">callback</td><td><code>Function|Undefined</code> callback to receive result or error </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>Object</code> response object, see details below</dd></dl>
<p><b>0</b> <code>Array</code> Array of <code>response objects, see details in</code><a class="el" href="namespacehttpClient.html#a33cb20df4470da7e266e580d082064e8" title="Send HTTP request to server.">sendRequest()</a><code>function | strings with error messages</code> <b>1</b> <code>Array</code> ... <b>2</b> <code>Array</code> ... ...</p>
<p><b>sendOptions</b></p>
<ul>
<li><b>fileName</b> <code>String</code> name of file that will be created on server to store sended data</li>
<li><b>fullTimeoutMillis</b> Number|Undefined<code>consumer threads wakeup timeout, in milliseconds, default value:</code>10000<code>, equal to 10 seconds.</code></li>
<li><code>__maxChunkSize__</code>Number<code>maximum size of sent chunk</code></li>
<li><code>__fileSize__</code>Number|Undefined<code>the size of the file being sent</code></li>
<li><code>__filePath__</code>String|Undefined<code>path to file that will be sent.</code></li>
<li><code>__url__</code>String|Undefined` URL of the HTTP server </li>
</ul>

</div>
</div>
<a class="anchor" id="a33cb20df4470da7e266e580d082064e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Object httpClient::sendRequest </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Object&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Function|Undefined&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends HTTP request to server, received response can be stored in-memory or in the specified file (in this case response will be written into the file in streaming mode).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td><code>String</code> URL of the HTTP server </td></tr>
    <tr><td class="paramname">options</td><td><code>Object</code> configuration object, see possible options below </td></tr>
    <tr><td class="paramname">callback</td><td><code>Function|Undefined</code> callback to receive result or error </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>Object</code> response object with the following fields:</dd></dl>
<ul>
<li><b>connectionSuccess</b> <code>Boolean</code> <code>true</code> if the connection to server was successful, <code>false</code> otherwise</li>
<li><b>dataHex</b> <code>String</code> response data in hexadecimal encoding, use <code>wilton/hex</code>to decode it; response may contain code sequences that are not valid for <code>UTF-8</code> encoding</li>
<li><b>data</b> <code>String</code> data decoded as a <code>String</code> with invalid <code>UTF-8</code> code sequences replaced with <code>0xFFFD</code></li>
<li><b>json</b> <code>Function</code> parses the contents of <code>data</code> field as a JSON, resulting JSON object is cached for this response instance - the same object is returned for the following <code>json()</code> invocations</li>
<li><b>headers</b> <code>Object</code> response headers in <code>"Header-Name": "value"</code> format</li>
<li><b>effectiveUrl</b> <code>String</code> final URL (after possible redirection) that was used</li>
<li><b>responseCode</b> <code>Number</code> HTTP response status code</li>
<li><b>totalTimeSecs</b> <code>Number</code> time that request have taken, in seconds</li>
<li><b>namelookupTimeSecs</b> <code>Number</code> time spent in DNS lookup, in seconds</li>
<li><b>connectTimeSecs</b> <code>Number</code> time spent establishing the connection, in seconds</li>
<li><b>appconnectTimeSecs</b> <code>Number</code> time until the SSL handshake is completed, in seconds</li>
<li><b>pretransferTimeSecs</b> <code>Number</code> time until the file transfer start, in seconds</li>
<li><b>starttransferTimeSecs</b> <code>Number</code> time until the first byte is received, in seconds</li>
<li><b>redirectTimeSecs</b> <code>Number</code> time for all redirection steps, in seconds</li>
<li><b>redirectCount</b> <code>Number</code> number of redirects</li>
<li><b>speedDownloadBytesSecs</b> <code>Number</code> download speed, in bytes per second</li>
<li><b>speedUploadBytesSecs</b> <code>Number</code> upload speed, in bytes per second</li>
<li><b>headerSizeBytes</b> <code>Number</code> size of response headers, in bytes</li>
<li><b>requestSizeBytes</b> <code>Number</code> size of sent request, in bytes</li>
<li><b>sslVerifyresult</b> <code>Number</code> result of the certificate verification</li>
<li><b>osErrno</b> <code>Number</code> error code returned by OS</li>
<li><b>numConnects</b> <code>Number</code> number of created connections</li>
<li><b>primaryIp</b> <code>String</code> IP address of last connection</li>
<li><b>primaryPort</b> <code>Numbrer</code> TCP port of last connection</li>
</ul>
<p><b>Options</b></p>
<ul>
<li><b>data</b> <code>String|Object|Undefined</code> data to send in request body, specified object will be converted to JSON</li>
<li><b>meta</b>: <code>Object|Undefined</code> request metadata<ul>
<li><b>headers</b> <code>Object|Undefined</code> request headers in <code>"Header-Name": "value"</code> format</li>
<li><b>method</b> <code>String|Undefined</code> HTTP method to use for this request, default value is <code>GET</code>, if request <code>data</code> is not specified, <code>POST</code> otherwise</li>
<li><b>abortOnConnectError</b> <code>Boolean|Undefined</code> whether to throw an <code>Error</code> on connection fail, default value: <code>true</code></li>
<li><b>abortOnResponseError</b> <code>Boolean|Undefined</code> whether to throw an <code>Error</code>, if response status code <code>&gt;=400</code> is returned, default value: <code>true</code></li>
<li><b>maxNumberOfResponseHeaders</b> <code>Number|Undefined</code> maximum number of response headers to receive, subsequent headers will be ignored, default value: <code>128</code></li>
<li><b>consumerThreadWakeupTimeoutMillis</b> <code>Number|Undefined</code> consumer threads wakeup timeout, in milliseconds, default value: <code>100</code></li>
<li><b>responseDataFilePath</b> <code>String|Undefined</code> path to file where to write the response body</li>
<li><b>forceHttp10</b> <code>Boolean|Undefined</code> whether to use HTTP <code>1.0</code> protocol closing the connection after the request, default value: <code>false</code></li>
<li><b>noprogress</b> <code>Boolean|Undefined</code> whether to swith off the progress meter, default value <code>true</code></li>
<li><b>nosignal</b> <code>Boolean|Undefined</code> whether to disable OS-signals handling, default value: <code>true</code></li>
<li><b>failonerror</b> <code>Boolean|Undefined</code> whether to close the connection and throw an <code>Error</code> on response code <code>&gt;=400</code>,default value: <code>false</code></li>
<li><b>pathAsIs</b> <code>Boolean|Undefined</code> whether to not handle "dot sequences" in request URL, default value: <code>true</code></li>
<li><b>tcpNodelay</b> <code>Boolean|Undefined</code> whether to set the <code>TCP_NODELAY</code> connection option, default value: <code>false</code></li>
<li><b>tcpKeepalive</b> <code>Boolean|Undefined</code> whether to use TCK keep-alive probing, default value: <code>false</code></li>
<li><b>tcpKeepidleSecs</b> <code>Number|Undefined</code> TCP keep-alive idle time wait, in seconds, default value: <code>300</code></li>
<li><b>tcpKeepintvlSecs</b> <code>Number|Undefined</code> TCP keep-alive interval, in seconds, default value: <code>300</code></li>
<li><b>connecttimeoutMillis</b> <code>Number|Undefined</code> timeout for the connect phase, in milliseconds, default value: <code>10000</code></li>
<li><b>timeoutMillis</b> <code>Number|Undefined</code> maximum time the request is allowed to take, in milliseconds, default value: <code>15000</code></li>
<li><b>buffersizeBytes</b> <code>Number|Undefined</code> preferred receive buffer size, in bytes, default value: <code>16384</code></li>
<li><b>acceptEncoding</b> <code>String|Undefined</code> enables automatic decompression of HTTP downloads, default value: <code>gzip</code></li>
<li><b>followlocation</b> <code>Boolean|Undefined</code> whether to follow HTTP <code>3xx</code> redirects, default value: <code>true</code></li>
<li><b>maxredirs</b> <code>Number|Undefined</code> maximum number of redirects allowed, default value: <code>32</code></li>
<li><b>useragent</b> <code>String|Undefined</code> user-agent string to send, default value: empty string</li>
<li><b>maxSentSpeedLargeBytesPerSecond</b> <code>Number|Undefined</code> rate limit data upload speed, in bytes per second, default value: <code>0</code> (disabled)</li>
<li><b>maxRecvSpeedLargeBytesPerSecond</b> <code>Number|Undefined</code> rate limit data download speed, in bytes per second, default value: <code>0</code> (disabled)</li>
<li><b>sslcertFilename</b> <code>String|Undefined</code> path to SSL client certificate file</li>
<li><b>sslcertype</b> <code>String|Undefined</code> type of the client SSL certificate</li>
<li><b>sslkeyFilename</b> <code>String|Undefined</code> path to private keyfile for TLS and SSL client certificate</li>
<li><b>sslKeyType</b> <code>String|Undefined</code> type of the private key file</li>
<li><b>sslKeypasswd</b> <code>String|Undefined</code> passphrase to private key</li>
<li><b>requireTls</b> <code>Boolean|Undefined</code> whether to require TLS connection rejectin older SSL algorithms, default value: <code>false</code></li>
<li><b>sslVerifyhost</b> <code>Boolean|Undefined</code> whether to verify the certificate's name against host, default value: <code>false</code></li>
<li><b>sslVerifypeer</b> <code>Boolean|Undefined</code> whether to verify the peer's SSL certificate, default value: <code>false</code></li>
<li><b>sslVerifystatus</b> <code>Boolean|Undefined</code> whether to verify the peer certificate's status, default value: <code>false</code></li>
<li><b>cainfoFilename</b> <code>String|Undefined</code> path to Certificate Authority (CA) bundle</li>
<li><b>crlfileFilename</b> <code>String|Undefined</code> path to CRL file</li>
<li><b>sslCipherList</b> <code>String|Undefined</code> ciphers to use for TLS </li>
</ul>
</li>
</ul>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 20 2020 22:01:05 for wilton.js by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
